(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5191:function(e,t,r){Promise.resolve().then(r.bind(r,4182))},4182:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ee}});var l,s,n,a,i=r(7437),c=r(2265);let o={I:{type:"I",shape:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],width:4,height:4},J:{type:"J",shape:[[1,0,0],[1,1,1],[0,0,0]],width:3,height:3},L:{type:"L",shape:[[0,0,1],[1,1,1],[0,0,0]],width:3,height:3},O:{type:"O",shape:[[1,1],[1,1]],width:2,height:2},S:{type:"S",shape:[[0,1,1],[1,1,0],[0,0,0]],width:3,height:3},T:{type:"T",shape:[[0,1,0],[1,1,1],[0,0,0]],width:3,height:3},Z:{type:"Z",shape:[[1,1,0],[0,1,1],[0,0,0]],width:3,height:3}},u=()=>{let e=Object.keys(o);return o[e[Math.floor(Math.random()*e.length)]]},d=e=>{let t=Array(e.width).fill(0).map(()=>Array(e.height).fill(0));for(let r=0;r<e.height;r++)for(let l=0;l<e.width;l++)t[l][e.height-1-r]=e.shape[r][l];return t},f=(e,t)=>{let r=Math.min(Math.floor(e/10),Math.floor(t/20));return Math.min(r=Math.max(r,10),40)},h=[800,720,630,550,470,380,300,220,130,100,80],m={SINGLE:100,DOUBLE:300,TRIPLE:500,TETRIS:800,SOFT_DROP:1,HARD_DROP:2},p={I:"#00FFFF",J:"#0000FF",L:"#FF7F00",O:"#FFFF00",S:"#00FF00",T:"#800080",Z:"#FF0000",GHOST:"rgba(255, 255, 255, 0.2)",BOARD_BG:"#000000",GRID:"#222222"},E={LEFT:"ArrowLeft",RIGHT:"ArrowRight",DOWN:"ArrowDown",UP:"ArrowUp",SPACE:" ",P:"p"},_=()=>Array(20).fill(null).map(()=>Array(10).fill(null).map(()=>({filled:!1,color:""}))),x=(e,t,r,l)=>{for(let s=0;s<t.height;s++)for(let n=0;n<t.width;n++){if(!t.shape[s][n])continue;let a=n+r,i=s+l;if(a<0||a>=10||i<0||i>=20||i>=0&&e[i][a].filled)return!1}return!0},P=(e,t,r,l)=>{let s=e.map(e=>e.map(e=>({...e})));for(let e=0;e<t.height;e++)for(let n=0;n<t.width;n++){if(!t.shape[e][n])continue;let a=n+r,i=e+l;a<0||a>=10||i<0||i>=20||(s[i][a]={filled:!0,color:t.type})}return s},g=e=>{let t=0,r=e.filter((e,r)=>!e.every(e=>e.filled)||(t++,!1));return{newBoard:[...Array(t).fill(null).map(()=>Array(10).fill(null).map(()=>({filled:!1,color:""}))),...r],linesCleared:t}};(l=n||(n={})).READY="ready",l.PLAYING="playing",l.PAUSED="paused",l.GAME_OVER="gameOver";let v=()=>({board:_(),currentPiece:u(),currentX:3,currentY:0,nextPiece:u(),score:0,level:0,lines:0,status:"ready"}),T=e=>{let t=h.length-1;return h[Math.min(e,t)]},b=e=>{if("playing"!==e.status)return e;let t=e.currentX-1;return x(e.board,e.currentPiece,t,e.currentY)?{...e,currentX:t}:e},A=e=>{if("playing"!==e.status)return e;let t=e.currentX+1;return x(e.board,e.currentPiece,t,e.currentY)?{...e,currentX:t}:e},S=e=>{if("playing"!==e.status)return e;let t=e.currentY+1;return x(e.board,e.currentPiece,e.currentX,t)?{...e,currentY:t,score:e.score+m.SOFT_DROP}:k(e)},y=e=>{if("playing"!==e.status)return e;let t=d(e.currentPiece),r={...e.currentPiece,shape:t};if(x(e.board,r,e.currentX,e.currentY))return{...e,currentPiece:r};for(let t of[-1,1,-2,2])if(x(e.board,r,e.currentX+t,e.currentY))return{...e,currentPiece:r,currentX:e.currentX+t};return e},R=e=>{if("playing"!==e.status)return e;let t=0,r=e.currentY;for(;x(e.board,e.currentPiece,e.currentX,r+1);)r++,t++;return k({...e,currentY:r,score:e.score+t*m.HARD_DROP})},k=e=>{let{newBoard:t,linesCleared:r}=g(P(e.board,e.currentPiece,e.currentX,e.currentY)),l=0;switch(r){case 1:l=m.SINGLE*(e.level+1);break;case 2:l=m.DOUBLE*(e.level+1);break;case 3:l=m.TRIPLE*(e.level+1);break;case 4:l=m.TETRIS*(e.level+1)}let s=e.lines+r,n=Math.floor(s/10),a=e.nextPiece,i=u(),c=Math.floor((10-a.width)/2);return x(t,a,c,0)?{...e,board:t,currentPiece:a,currentX:c,currentY:0,nextPiece:i,score:e.score+l,lines:s,level:n}:{...e,board:t,score:e.score+l,lines:s,level:n,status:"gameOver"}},w=e=>({...v(),status:"playing"}),N=e=>"playing"===e.status?{...e,status:"paused"}:"paused"===e.status?{...e,status:"playing"}:e,L=e=>{let t=e.currentY;for(;x(e.board,e.currentPiece,e.currentX,t+1);)t++;return t},O=(e,t,r)=>{e.clearRect(0,0,t,r)},j=(e,t,r,l)=>{for(let s=0;s<=t;s+=l)e.beginPath(),e.moveTo(s,0),e.lineTo(s,r),e.strokeStyle=p.GRID,e.stroke();for(let s=0;s<=r;s+=l)e.beginPath(),e.moveTo(0,s),e.lineTo(t,s),e.strokeStyle=p.GRID,e.stroke()},C=function(e,t,r,l,s){let n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=n?p.GHOST:l;e.fillStyle=a,e.fillRect(t*s,r*s,s,s),e.strokeStyle="#333",e.lineWidth=1,e.strokeRect(t*s,r*s,s,s),n||(e.fillStyle="rgba(255, 255, 255, 0.1)",e.fillRect(t*s+1,r*s+1,s-2,s/2-1))},D=(e,t,r)=>{t.forEach((t,l)=>{t.forEach((t,s)=>{t.filled&&C(e,s,l,p[t.color],r)})})},I=function(e,t,r,l,s){let n=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t.shape.forEach((a,i)=>{a.forEach((a,c)=>{a&&C(e,c+r,i+l,p[t.type],s,n)})})},M=(e,t,r,l,s)=>{I(e,t,r,l,s,!0)},G=(e,t,r,l,s)=>{O(e,r,l);let n=Math.floor((r/s-t.width)/2),a=Math.floor((l/s-t.height)/2);I(e,t,n,a,s)},F=(e,t,r)=>{e.fillStyle="rgba(0, 0, 0, 0.75)",e.fillRect(0,0,t,r),e.fillStyle="#ffffff",e.font="30px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("GAME OVER",t/2,r/2-30),e.font="16px Arial",e.fillText("Press SPACE to restart",t/2,r/2+10)},B=(e,t,r)=>{e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(0,0,t,r),e.fillStyle="#ffffff",e.font="30px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("PAUSED",t/2,r/2-30),e.font="16px Arial",e.fillText("Press P to resume",t/2,r/2+10)},Y=(e,t,r)=>{e.fillStyle="rgba(0, 0, 0, 0.75)",e.fillRect(0,0,t,r),e.fillStyle="#ffffff",e.font="40px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("TETRIS",t/2,r/2-50),e.font="20px Arial",e.fillText("Press SPACE to start",t/2,r/2+20),e.font="16px Arial",e.fillText("← → : Move",t/2,r/2+60),e.fillText("↑ : Rotate",t/2,r/2+85),e.fillText("↓ : Soft Drop",t/2,r/2+110),e.fillText("SPACE : Hard Drop",t/2,r/2+135),e.fillText("P : Pause",t/2,r/2+160)};var U=e=>{let{gameState:t}=e,r=(0,c.useRef)(null),l=(0,c.useRef)(null),[s,a]=(0,c.useState)(30),o=10*s,u=20*s;return(0,c.useEffect)(()=>{let e=()=>{l.current&&a(f(l.current.clientWidth,l.current.clientHeight))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,c.useEffect)(()=>{let e=r.current;if(!e)return;let l=e.getContext("2d");if(l){if(O(l,o,u),l.fillStyle="#000",l.fillRect(0,0,o,u),j(l,o,u,s),D(l,t.board,s),t.status===n.PLAYING){let e=L(t);M(l,t.currentPiece,t.currentX,e,s)}switch((t.status===n.PLAYING||t.status===n.PAUSED)&&I(l,t.currentPiece,t.currentX,t.currentY,s),t.status){case n.READY:Y(l,o,u);break;case n.PAUSED:B(l,o,u);break;case n.GAME_OVER:F(l,o,u)}}},[t,o,u,s]),(0,i.jsx)("div",{ref:l,style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)("canvas",{ref:r,width:o,height:u,style:{border:"2px solid #333",boxShadow:"0 0 10px rgba(0, 0, 0, 0.5)",maxWidth:"100%",maxHeight:"100%"}})})},V=e=>{let{status:t,onMoveLeft:r,onMoveRight:l,onMoveDown:s,onRotate:a,onHardDrop:i,onPause:o,onStart:u}=e,d=(0,c.useCallback)(e=>{if((e.key===E.LEFT||e.key===E.RIGHT||e.key===E.DOWN||e.key===E.UP||e.key===E.SPACE)&&e.preventDefault(),t===n.PLAYING)switch(e.key){case E.LEFT:r();break;case E.RIGHT:l();break;case E.DOWN:s();break;case E.UP:a();break;case E.SPACE:i();break;case E.P:o()}else t===n.PAUSED&&e.key===E.P?o():(t===n.READY||t===n.GAME_OVER)&&e.key===E.SPACE&&u()},[t,r,l,s,a,i,o,u]);(0,c.useEffect)(()=>(window.addEventListener("keydown",d),()=>{window.removeEventListener("keydown",d)}),[d])},X=e=>{let{gameState:t,onUpdate:r}=e,[l,s]=(0,c.useState)(0),a=(0,c.useRef)(),i=(0,c.useRef)(),o=T(t.level),u=(0,c.useCallback)(e=>{void 0===i.current&&(i.current=e);let l=e-i.current;i.current=e,t.status===n.PLAYING&&s(e=>{let s=e+l;return s>o?(r(S(t)),0):s}),a.current=requestAnimationFrame(u)},[t,o,r]);(0,c.useEffect)(()=>(a.current=requestAnimationFrame(u),()=>{a.current&&cancelAnimationFrame(a.current)}),[u]),(0,c.useEffect)(()=>{s(0),i.current=void 0},[t.status])};(s=a||(a={})).MOVE="move",s.ROTATE="rotate",s.DROP="drop",s.CLEAR_LINE="clearLine",s.LEVEL_UP="levelUp",s.GAME_OVER="gameOver";class H{initSounds(){this.createSound("move","move.mp3"),this.createSound("rotate","rotate.mp3"),this.createSound("drop","drop.mp3"),this.createSound("clearLine","clear.mp3"),this.createSound("levelUp","levelup.mp3"),this.createSound("gameOver","gameover.mp3")}createSound(e,t){{let r=new Audio("/sounds/".concat(t));r.volume=.5,this.sounds.set(e,r)}}play(e){if(!this.enabled)return;let t=this.sounds.get(e);t&&(t.currentTime=0,t.play().catch(e=>{console.error("Error playing sound: ".concat(e))}))}toggleSound(e){this.enabled=e}isEnabled(){return this.enabled}constructor(){this.sounds=new Map,this.enabled=!0,this.initSounds()}}let W=null,z=()=>(W||(W=new H),W);var J=()=>{let[e,t]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{t(z().isEnabled())},[]),{soundEnabled:e,playSound:(0,c.useCallback)(e=>{z().play(e)},[]),toggleSound:(0,c.useCallback)(()=>{let e=z(),r=!e.isEnabled();e.toggleSound(r),t(r)},[])}},Z=r(6420),q=r.n(Z),K=()=>{let[e,t]=(0,c.useState)(v()),r=(0,c.useRef)(null),l=(0,c.useRef)(null),[s,o]=(0,c.useState)(30),u=4*s,d=4*s;(0,c.useEffect)(()=>{let e=()=>{l.current&&o(Math.floor(l.current.clientWidth/5))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let{soundEnabled:f,playSound:h,toggleSound:m}=J(),p=(0,c.useCallback)(()=>{let r=b(e);r!==e&&(t(r),h(a.MOVE))},[e,h]),E=(0,c.useCallback)(()=>{let r=A(e);r!==e&&(t(r),h(a.MOVE))},[e,h]),_=(0,c.useCallback)(()=>{let r=S(e);r!==e&&(t(r),h(a.MOVE))},[e,h]),x=(0,c.useCallback)(()=>{let r=y(e);r!==e&&(t(r),h(a.ROTATE))},[e,h]),P=(0,c.useCallback)(()=>{t(R(e)),h(a.DROP)},[e,h]),g=(0,c.useCallback)(()=>{t(N(e))},[e]),T=(0,c.useCallback)(()=>{t(w(e)),h(a.LEVEL_UP)},[e,h]),k=(0,c.useCallback)(r=>{r.lines>e.lines&&h(a.CLEAR_LINE),r.level>e.level&&h(a.LEVEL_UP),r.status===n.GAME_OVER&&e.status===n.PLAYING&&h(a.GAME_OVER),t(r)},[e,h]);return V({status:e.status,onMoveLeft:p,onMoveRight:E,onMoveDown:_,onRotate:x,onHardDrop:P,onPause:g,onStart:T}),X({gameState:e,onUpdate:k}),(0,c.useEffect)(()=>{let t=r.current;if(!t)return;let l=t.getContext("2d");l&&(t.width=u,t.height=d,O(l,u,d),l.fillStyle="#000",l.fillRect(0,0,u,d),G(l,e.nextPiece,u,d,s))},[e.nextPiece,u,d,s]),(0,i.jsxs)("div",{className:q().tetrisContainer,children:[(0,i.jsxs)("div",{className:q().gameInfo,children:[(0,i.jsx)("h1",{className:q().title,children:"TETRIS"}),(0,i.jsxs)("div",{className:q().scoreBoard,children:[(0,i.jsxs)("div",{className:q().scoreItem,children:[(0,i.jsx)("span",{className:q().label,children:"Score:"}),(0,i.jsx)("span",{className:q().value,children:e.score})]}),(0,i.jsxs)("div",{className:q().scoreItem,children:[(0,i.jsx)("span",{className:q().label,children:"Level:"}),(0,i.jsx)("span",{className:q().value,children:e.level})]}),(0,i.jsxs)("div",{className:q().scoreItem,children:[(0,i.jsx)("span",{className:q().label,children:"Lines:"}),(0,i.jsx)("span",{className:q().value,children:e.lines})]})]}),(0,i.jsxs)("div",{className:q().nextPiece,ref:l,children:[(0,i.jsx)("h3",{className:q().nextPieceTitle,children:"Next Piece"}),(0,i.jsx)("canvas",{ref:r,className:q().nextPieceCanvas})]}),(0,i.jsxs)("div",{className:q().controls,children:[(0,i.jsx)("h3",{className:q().controlsTitle,children:"Controls"}),(0,i.jsxs)("ul",{className:q().controlsList,children:[(0,i.jsx)("li",{children:"← → : Move"}),(0,i.jsx)("li",{children:"↑ : Rotate"}),(0,i.jsx)("li",{children:"↓ : Soft Drop"}),(0,i.jsx)("li",{children:"SPACE : Hard Drop"}),(0,i.jsx)("li",{children:"P : Pause"})]}),(0,i.jsx)("div",{className:q().soundToggle,children:(0,i.jsx)("button",{className:q().soundButton,onClick:m,"aria-label":f?"Mute sound":"Unmute sound",children:f?"Sound: ON":"Sound: OFF"})})]}),e.status===n.READY&&(0,i.jsx)("button",{className:q().startButton,onClick:T,children:"Start Game"}),e.status===n.GAME_OVER&&(0,i.jsx)("button",{className:q().startButton,onClick:T,children:"Play Again"}),e.status===n.PLAYING&&(0,i.jsx)("button",{className:q().pauseButton,onClick:g,children:"Pause"}),e.status===n.PAUSED&&(0,i.jsx)("button",{className:q().pauseButton,onClick:g,children:"Resume"})]}),(0,i.jsx)("div",{className:q().gameBoard,children:(0,i.jsx)(U,{gameState:e})})]})},Q=r(2969),$=r.n(Q),ee=()=>(0,i.jsx)("main",{className:$().fullscreen,children:(0,i.jsx)(K,{})})},6420:function(e){e.exports={tetrisContainer:"Tetris_tetrisContainer__N0e2p",gameBoard:"Tetris_gameBoard__nKMAJ",gameInfo:"Tetris_gameInfo__60V_n",title:"Tetris_title__h_hOF",scoreBoard:"Tetris_scoreBoard__yyncg",scoreItem:"Tetris_scoreItem__jne9r",label:"Tetris_label__O58hL",value:"Tetris_value__tKTit",nextPiece:"Tetris_nextPiece__kG_jV",nextPieceTitle:"Tetris_nextPieceTitle__XID4x",nextPieceCanvas:"Tetris_nextPieceCanvas__e1b1t",controls:"Tetris_controls__xvcEi",controlsTitle:"Tetris_controlsTitle__Orcsw",controlsList:"Tetris_controlsList__sUm1n",soundToggle:"Tetris_soundToggle__VXM2r",soundButton:"Tetris_soundButton__ucbyZ",startButton:"Tetris_startButton__KEnzy",pauseButton:"Tetris_pauseButton__aqofA"}},2969:function(e){e.exports={main:"home_main__gAgsa",fullscreen:"home_fullscreen__JwW6l",hr:"home_hr__6Ge2D"}}},function(e){e.O(0,[318,971,23,744],function(){return e(e.s=5191)}),_N_E=e.O()}]);